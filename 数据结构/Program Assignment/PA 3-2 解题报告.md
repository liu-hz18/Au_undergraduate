# **PA 3-2 解题报告**

##### 刘泓尊   2018011446   计84

### 一、数据结构与算法构思

#### 1.哈希表（拉链法）

#### **1.1 思路来源**

​		由于朴素的哈希表也可以实现o(1)的插入和问询，所以我采用较为经典的哈希表方法，处理冲突的办法为构建链表存储相同key 的数据节点。

#### **1.2 获得的帮助**

​		1.素数取自<常用哈希素数表>https://blog.csdn.net/shiyongyang/article/details/78079109

​		2.哈希表,采用拉链法,参考讲义<开放散列>11-C1的拉链法。

#### **1.3 思路**

**1.3.1哈希值的获得**

由于hash使用加盐的crc32值，且crc32为流式函数，所以字符串的哈希值可以由下式得到：

```c++
crc32( crc32(0, src, strLength), salt, saltLength )
```

**1.3.2 加入哈希表**

​		采用**拉链法**构建哈希表，**每个数据节点维护crc32值、字符串value以及其后继next**，没有后继则设为-1。哈希表size取为素数M，则hash % M即为插入位置。若该位置发生冲突，则在该位置后延伸一个链表，向链表的最后加入新的元素。为了便于维护，我的链表基于vector实现。

​		在问询开始前，递归枚举小于等于5位的密码，加入哈希表。总数为
$$
18+18^2 + 18^3+18^4+18^5 = 2000718
$$
**1.3.3 根据key问询value**

​		给定hash值，在rank = hash % M的链表中寻找crc32值与hash值相同的节点，如果存在一个则输出该节点中的字符串，多个则输出Duplicate.查找失败就输出No.

​		如果查找到唯一的字符串，则将其首字母加入**弱密码表code**。每加入一次，则将弱密码表中从最后开始，长度为6、7、8的弱密码加入哈希表（因为长度<5的已经预先加入其中）。

**1.3.4 哈希表的最大数据量**

​		小于5位密码数为2000718个，而对于n个问询，弱密码的所有可能情况3n(分别对应长度为6、7、8的情况)，所以哈希表最大数据量为
$$
DATASIZE = 2000718 + 3n
$$
​		哈希表的size大小取为素数，我将其设置为DATASIZE的80%左右.

### 三、时间和空间复杂度估算

##### **1. 时间复杂度**

​		哈希值的获得、哈希表的插入与问询均为o(1)，本题中，将小于5位密码加入需要O(2000718)的时间，是一个不可忽略的o(1)。之后的n个问询需要o(n),同时需要最坏3n次的弱密码加入。因此总时间复杂度为：
$$
T(n) = O(3n + 2000718) = O(n)
$$

**2. 空间复杂度**

​		基于1.3.4的分析，哈希表最大数据量为2000718 + 3n,存储未处理的弱密码需要o(n)。加之最初将小于5位的密码加入哈希表时，递归栈开销为o(2000718)。总空间复杂度为：

$$
S(n) = O(3n+2000718+n+2000718) = O(n)
$$

